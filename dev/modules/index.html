<!doctype html>
<!-- Just a page for testing Modules -->
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Test</title>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
	<script src="SVGGraph.js"></script>
	<script src="tour.js"></script>
	<script src="NOHTML.js"></script>
</head>
<body>
	<script>
		var _ = NOHTML;
		_.h(1, 'Example Graphs (View Page source to see initiation of SVGGraph Module)');
		_.h(2, 'Example using the jQuery plugin (My first one!):');
		_.create('div', {
			id: 'grapher',
			style: 'height:350px;width:800px;'
		});
		$('#grapher').graphify({
			obj: {
				id: 'ggg',
				width: 775,
				height: 375,
				multiplePoints: true,
				xGrid: false,
				legend: true,
				title: 'My first SVG Graph!',
				points: [
					[0, 26, 33, 74, 12, 49, 33],
					[32, 46, 75, 38, 62, 76, 82],
					[12, 33, 25, 16, 87, 20, 0]
				],
				pointRadius: 3,
				byCSS: {
					'#ggg .SVG-tooltip-box': {
						fill: 'darkgrey',
						opacity: 0.7,
						display: 'none'
					},
					'#ggg circle': {
						opacity: 0.7,
						stroke: '#000',
						fill: 'lightblue'
					}
				},
				xDist: 90
			}
		});
		_.br(5);
		_.h(3, 'More options/documentation/pie graphs coming soon to the plugin.');
		_.hr();
		_.h(2, 'This is a pie graph: (Can also be displayed with the plugin, but only when we have one dataset)');
		_.h(4, '[The above graph obviously had multiple datasets so there was no "pie" button]');
		_.br();
		_.create('div', {
			id: 'piehold',
			style: 'height:400px;'
		});
		var pie = new GraphPie({
			example: true,
			attachTo: 'piehold',
			points: [18, 44, 65, 22, 51],
			legend: true
		});
		pie.init();
		_.hr();
		_.h(2, 'Example for .expand() and .save():');
		_.div('', 'wrapper');
		var graph = new GraphBar({
			example: true, //load example points and styling (below overrides it)
			title: 'Bar Graph, scale 10, attached to wrapper',
			attachTo: 'wrapper',
			id: 'something',
			width: 500,
			height: 400,
		}); //create JSON for new graph
		graph.init(); //display graph
		//LINEAR GRAPH
		_.h(2, 'You can also update an existing graph (make sure you specify an ID):');
		_.button('Update', 'update', function(){
			//UPDATE GRAPH
			graph2.update({
				id: 'updateThisGraph',
				multiplePoints: true,
				points: [
					[0, 26, 33, 74, 12, 49, 18],
					[32, 46, 75, 38, 62, 76, 82]
				],
				title: 'Linear Graph 1 updated to have 2 lines, scale 16',
				width: 500,
				scale: 16,
				height: 400,
			});
			$(this).attr('disabled', 'true');
		});
		_.br();
		var graph2 = new GraphLinear({
			example: true,
			id: 'updateThisGraph',
			title: 'Linear Graph 1 (1 line), scale 100',
			scale: 100,
			width: 500,
			height: 400,
			byCSS: {
				'#updateThisGraph .SVG-tooltip-box': {
					fill: 'grey',
					opacity: 0.7,
					display: 'none'
				},
				'#updateThisGraph circle': {
					opacity: 0.7
				}
			},
			xOffset: 50,
			points: [101, 0, 432, 124, 76, 1000, 433],
			mainOffset: 60
		});
		graph2.init();
		var json = $.parseJSON(graph.save()); //so i can modify title
		json.title = 'You can still modify whatever you want when you expand';
		json.id = 'diffId';
		json.noLines = true;
		graph.expand(json);
		_.hr(1, '#wrapper');
		_.h(2, 'Graph1 as JSON, by using .save(); (call .expand() to convert it back into a graph, which is on the right, above):', '',  '#wrapper');
		_.print(graph.save(), '', '#wrapper');
		_.hr(1, '#wrapper');
		_.hr();
		_.h(3, 'Use .save() and .expand() to save graphs in databases and restore them on the client.')
		_.hr();
		_.h(2, 'You can even change a graph of one type to another easily (graph.to("bar"))');
		_.button('Turn below into a Bar graph', 'turn', function(){
			g.to('bar');
			$(this).attr('disabled', 'true');
		});
		_.br();
		var g = new GraphLinear({
			example: true, //load example points and data (below overrides it)
			title: 'Everything is optional; view source to see the stuff i changed on this graph (You can disable any part of the grid btw)',
			width: 1000,
			height: 500,
			id: 'anId',
			xDist: 120,
			grid: false,
			showPoints: false,
			yDist: 40,
			//one way to style a graph (using given properties)
			styles: {
				lineStroke: 'red',
				strokeWidth: 2,
				tooltipFill: 'red'
			},
			//second way (using CSS):
			byCSS: {
				'#anId .grid': {
					stroke: 'red'
				},
				'#anId .rect': {
					fill: 'grey',
					opacity: 0.7,
					stroke: 'red'
				},
				'#anId .labels': {
					fill: 'darkred'
				},
				'#anId .SVG-tooltip-box': {
					fill: 'grey',
					opacity: 0.7,
					display: 'none',
					stroke: 'red'
				}
			},
			scale: 10
		});
		g.init();
		_.hr();
		_.h(2, 'You probably want some example code by now:');
	</script>
	<!-- Not written in NOHTML for "pre" tags -->
	<h4>
	<pre>
	//define options:
	var options = {
		addStyling: true, //load default css
		x: ['mon', 'tue', 'wed', 'thu', 'fri'], //the x axis
		scale: 100, //each Y goes up by 100
		points: [12, 164, 1000, 45, 982], //Y values
		attachTo: 'main' //append to an id
		//and anything you dont specify is defaulted for you!
	};
	
	var linear = new GraphLinear(options);
	linear.init();

	//or if you want to use the jquery plugin:
	$('#main').graphify({obj:options});
	//plugin also has other options that are defaulted if not specified
		</pre>
	</h4>
</body>
</html>
